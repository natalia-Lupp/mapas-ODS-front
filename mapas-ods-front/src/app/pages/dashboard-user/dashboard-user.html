<!-- Área principal (Navbar + Conteúdo) -->
<div class="flex-1 flex flex-col min-h-screen">
    <!-- Navbar no topo -->
    <app-navbar-user></app-navbar-user>

    <div class="drawer lg:drawer-open min-h-screen flex">
        <!-- Sidebar -->
        <app-sidebar-user class="hidden lg:block w-64"></app-sidebar-user>

        <!-- Conteúdo principal -->
        <main class="p-6 flex-1 bg-white">
            <h2 class="text-3xl font-semibold mb-2 text-gray-900">Dados de Consumo</h2>
            <h3 class="text-2xl font-semibold mb-2 text-gray-900 pt-8">Últimos Dados Cadastrados</h3>

            <!-- Card resumo menor à direita -->
            <div class="flex justify-start mb-6 pt-2">
                <div class="card bg-white shadow-md border border-blue-200 w-48">
                    <div class="card-body">
                        <h3 class="text-sm text-center text-gray-500">Média de Consumo</h3>
                        <p class="text-2xl text-center font-bold text-blue-600">
                            {{ mediaGeralLitrosExibicao }} L
                        </p>
                    </div>
                </div>
            </div>

            <!-- Tabela -->
            <div class="card bg-white shadow-md border border-gray-200">
                <div class="overflow-x-auto">
                    <table class="table w-full text-center text-gray-500">
                        <thead class="text-blue-800 bg-[#c9e2ff]">
                            <tr>
                                <th>Mês</th>
                                <th>Consumo Total (m³)</th>
                                <th>Média (L / Pessoa)</th>
                                <th>Status da Meta</th>
                                <th>Ações</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let c of consumos" class="hover:bg-blue-50">
                                <td>{{ c.mes }}</td>
                                <td>{{ c.consumoM3 }}</td>
                                <td>{{ c.mediaLitrosPorPessoa }}</td>
                                <td>
                                    <span class="badge" [ngClass]="{
                    'badge-success text-white': c.atingiuMeta,
                    'badge-error text-white': !c.atingiuMeta
                  }">
                                        {{ c.atingiuMeta ? 'Atingiu' : 'Não atingiu' }}
                                    </span>
                                </td>
                                <td>
                                    <div class="flex justify-center gap-4">
                                        <a href="#" class="text-blue-600 hover:underline">Editar</a>
                                        <a href="#" class="text-red-600 hover:underline">Excluir</a>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Botões -->
            <div class="flex flex-col sm:flex-row justify-between items-center mt-8 gap-4">
                <button class="btn btn-outline btn-error px-6 rounded-full font-semibold"
                    (click)="onExcluirTodos()">Excluir Todos</button>
                <button class="px-6 py-2 rounded-full font-semibold text-white bg-blue-700 hover:bg-blue-800"
                    (click)="onExportarPDF()">
                    Exportar PDF
                </button>

            </div>
        </main>
    </div>
</div>