<div class="flex-1 flex flex-col min-h-screen">
  <!-- Navbar -->
  <app-navbar-adm></app-navbar-adm>

  <div class="drawer lg:drawer-open flex flex-1 relative z-0">

    <!-- Sidebar -->
    <app-sidebar class="hidden lg:block w-64"></app-sidebar>

    <!-- CONTEÃšDO PRINCIPAL PADRONIZADO -->
    <main class="p-4 sm:p-6 flex-1 bg-white">

      <!-- CabeÃ§alho -->
      <h2 class="text-3xl font-semibold mb-2 text-gray-900">Dashboard Nakagawa</h2>
      <h3 class="text-xl sm:text-2xl font-semibold mb-6 text-gray-900 pt-4">
        VisualizaÃ§Ã£o da mÃ©trica selecionada
      </h3>

      <!-- CARD DE PERÃODO -->
      <div class="card bg-white shadow-md border border-blue-200 rounded-2xl p-6 mb-6 ">
        <h2 class="text-xl font-semibold text-gray-700 mb-2">PerÃ­odo da MÃ©trica</h2>

        <p class="text-gray-500 ">
          <span class="font-semibold">InÃ­cio:</span>
          {{ metrica?.data_inicio_periodo | date:'dd/MM/yyyy' }}
          &nbsp;â€¢&nbsp;
          <span class="font-semibold">Fim:</span>
          {{ metrica?.data_fim_periodo | date:'dd/MM/yyyy' }}
        </p>
      </div>

      <!-- CARDS DE RESUMO -->
      <div class="flex flex-wrap gap-4 sm:gap-6 mb-6">

        <div class="card bg-white shadow-md border-l-4 border-blue-500 w-full sm:w-56">
          <div class="card-body p-4">
            <p class="text-sm text-gray-600">Nome da MÃ©trica</p>
            <p class="text-2xl font-bold text-blue-700 mt-2">{{ metrica?.nome_customizado }}</p>
          </div>
        </div>

        <div class="card bg-white shadow-md border-l-4 border-green-500 w-full sm:w-56">
          <div class="card-body p-4">
            <p class="text-sm text-gray-600">Consumo Total em Litros</p>
            <p class="text-2xl font-bold text-green-700 mt-2">{{ metrica?.consumo_total_agua?.toFixed(2) }}</p>
          </div>
        </div>

        <div class="card bg-white shadow-md border-l-4 border-yellow-500 w-full sm:w-56">
          <div class="card-body p-4">
            <p class="text-sm text-gray-600">Numero Total De Alunos</p>
            <p class="text-2xl font-bold text-yellow-700 mt-2">{{ metrica?.total_alunos_geral?? 0 }}</p>
          </div>
        </div>

        <div class="card bg-white shadow-md border-l-4 border-red-500 w-full sm:w-56">
          <div class="card-body p-4">
            <p class="text-sm text-gray-600">Numero Total De Funcionarios
            <p class="text-2xl font-bold text-red-700 mt-2">{{ totalFuncionarios }}</p>
          </div>
        </div>
        <div class="card bg-white shadow-md border-l-4 border-purple-500 w-full sm:w-56">
          <div class="card-body p-4">
            <p class="text-sm text-gray-600">Total Pessoas Em Eventos</p>
            <p class="text-2xl font-bold text-purple-700 mt-2">{{ getTotalPessoasEventos() }}</p>
          </div>
        </div>
        <div class="card bg-white shadow-md border-l-4 border-orange-500 w-full sm:w-56">
          <div class="card-body p-4">
            <p class="text-sm text-gray-600">Consumo MÃ©dio por Dia do periodo</p>
            <p class="text-2xl font-bold text-orange-500 mt-2">{{ (getMediaPorDiaDoPeriodo()?? 0).toFixed(2) }}</p>
          </div>
        </div>
      </div>

      <!-- GRÃFICOS -->
      <div class="flex flex-col lg:flex-row gap-6 mb-6">
        <!-- GrÃ¡fico Consumo Por Alunos -->
        <div class="card bg-white shadow-md border border-gray-200 rounded-2xl p-6 flex-1">
          <h3 class="text-xl font-semibold text-gray-700 mb-4">ðŸ’§ Consumo Total Por Alunos</h3>

          <p class="text-gray-700 mb-4">
            {{ totalLitrosConsumidosPorAlunos().toFixed(2) }} Litros Consumidos Por Alunos
          </p>

          <div class="w-full h-80">
            <div echarts [options]="optionStudens" class="w-full h-full"></div>
          </div>
        </div>

        <!-- GrÃ¡fico Consumo Por Funcionarios -->
        <div class="card bg-white shadow-md border border-gray-200 rounded-2xl p-6 flex-1">
          <h3 class="text-xl font-semibold text-gray-700 mb-4">ðŸ’§ Consumo Total Por Funcionarios</h3>

          <p class="text-gray-700 mb-4">
            {{ totalLitrosConsumidosPorFuncionarios().toFixed(2) }} Litros Consumidos Por Funcionarios
          </p>

          <div class="w-full h-80">
            <div echarts [options]="showFuncionarios" class="w-full h-full"></div>
          </div>
        </div>

        <!-- GrÃ¡fico Consumo Por Eventos -->
        <div class="card bg-white shadow-md border border-gray-200 rounded-2xl p-6 flex-1">
          <h3 class="text-xl font-semibold text-gray-700 mb-4">ðŸ’§ Numero de Pessoas Por Eventos</h3>

          <p class="text-gray-700 mb-4">
            {{ (metrica?.litros_por_total_pessoas_eventos?? 0 ).toFixed(2) }} Litros Consumidos Por Eventos
          </p>

          <div class="w-full h-80">
            <div echarts [options]="showEventos" class="w-full h-full"></div>
          </div>
        </div>
      </div>
      <!-- Resumo Geral -->
      <div class="flex flex-col lg:flex-row gap-6 mb-6">
        <div class="card bg-white shadow-md border border-gray-200 rounded-2xl p-6 flex-1">
          <h3 class="text-xl font-semibold text-gray-700 mb-4">Resumo</h3>
          <div class="w-full">
            <div echarts [options]="metricaGeral" class="w-full h-full"></div>
          </div>
        </div>
      </div>
    </main>
  </div>
</div>